#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const codefreeze_board_stack_1 = require("../lib/codefreeze-board-stack");
const app = new cdk.App();
// Get domain configuration from context or environment
const domainName = app.node.tryGetContext('domainName') || process.env.DOMAIN_NAME;
const hostedZoneId = app.node.tryGetContext('hostedZoneId') || process.env.HOSTED_ZONE_ID;
if (!domainName || !hostedZoneId) {
    throw new Error('Domain name and hosted zone id must be provided as context or environment variables');
}
new codefreeze_board_stack_1.CodefreezeBoardStack(app, 'CodefreezeBoardStack', {
    stackName: 'codefreeze-board',
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: process.env.CDK_DEFAULT_REGION
    },
    domainName,
    hostedZoneId,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZWZyZWV6ZS1ib2FyZC1jZGsuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjb2RlZnJlZXplLWJvYXJkLWNkay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLDBFQUFxRTtBQUVyRSxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUUxQix1REFBdUQ7QUFDdkQsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUM7QUFDbkYsTUFBTSxZQUFZLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUM7QUFFMUYsSUFBSSxDQUFDLFVBQVUsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQ2pDLE1BQU0sSUFBSSxLQUFLLENBQUMscUZBQXFGLENBQUMsQ0FBQTtBQUN4RyxDQUFDO0FBRUQsSUFBSSw2Q0FBb0IsQ0FBQyxHQUFHLEVBQUUsc0JBQXNCLEVBQUU7SUFDcEQsU0FBUyxFQUFFLGtCQUFrQjtJQUM3QixHQUFHLEVBQUU7UUFDSCxPQUFPLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7UUFDeEMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCO0tBQ3ZDO0lBQ0QsVUFBVTtJQUNWLFlBQVk7Q0FDYixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgJ3NvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3Rlcic7XG5pbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgQ29kZWZyZWV6ZUJvYXJkU3RhY2sgfSBmcm9tICcuLi9saWIvY29kZWZyZWV6ZS1ib2FyZC1zdGFjayc7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5cbi8vIEdldCBkb21haW4gY29uZmlndXJhdGlvbiBmcm9tIGNvbnRleHQgb3IgZW52aXJvbm1lbnRcbmNvbnN0IGRvbWFpbk5hbWUgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdkb21haW5OYW1lJykgfHwgcHJvY2Vzcy5lbnYuRE9NQUlOX05BTUU7XG5jb25zdCBob3N0ZWRab25lSWQgPSBhcHAubm9kZS50cnlHZXRDb250ZXh0KCdob3N0ZWRab25lSWQnKSB8fCBwcm9jZXNzLmVudi5IT1NURURfWk9ORV9JRDtcblxuaWYgKCFkb21haW5OYW1lIHx8ICFob3N0ZWRab25lSWQpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdEb21haW4gbmFtZSBhbmQgaG9zdGVkIHpvbmUgaWQgbXVzdCBiZSBwcm92aWRlZCBhcyBjb250ZXh0IG9yIGVudmlyb25tZW50IHZhcmlhYmxlcycpXG59XG5cbm5ldyBDb2RlZnJlZXplQm9hcmRTdGFjayhhcHAsICdDb2RlZnJlZXplQm9hcmRTdGFjaycsIHtcbiAgc3RhY2tOYW1lOiAnY29kZWZyZWV6ZS1ib2FyZCcsXG4gIGVudjogeyBcbiAgICBhY2NvdW50OiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULCBcbiAgICByZWdpb246IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX1JFR0lPTiBcbiAgfSxcbiAgZG9tYWluTmFtZSxcbiAgaG9zdGVkWm9uZUlkLFxufSk7ICJdfQ==